<div class="p-6 bg-white rounded-2xl shadow-lg w-full max-w-md">
  <h2 class="text-xl font-semibold text-gray-700 mb-4 text-center">
    Enter Marks
  </h2>

  <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-4">

    <!-- Subject Dropdown -->
    <div>
      <label class="block text-sm font-medium text-gray-600 mb-1">Subject</label>
      <mat-form-field appearance="fill" class="w-full">
        <mat-select formControlName="subject" placeholder="Select Subject">
          <mat-option *ngFor="let s of data.subjects" [value]="s.name">
            {{ s.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <!-- Out of Marks (readonly) -->
    <div>
      <label class="block text-sm font-medium text-gray-600 mb-1">Out of Marks</label>
      <input
        type="number"
        formControlName="outOf"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-gray-700 bg-gray-100"
        readonly
      />
    </div>

    <!-- Obtained Marks -->
    <div>
      <label class="block text-sm font-medium text-gray-600 mb-1">Obtained Marks</label>
      <input
        type="number"
        formControlName="obtained"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-300 outline-none"
        placeholder="Enter obtained marks"
      />
      <div *ngIf="form.get('obtained')?.invalid && form.get('obtained')?.touched" class="text-red-500 text-xs mt-1">
        Please enter valid marks (0 - {{ data.outOf }}).
      </div>
    </div>

    <!-- Buttons -->
    <div class="flex justify-end space-x-3 pt-4">
      <button type="button" (click)="close()" mat-stroked-button color="warn">Cancel</button>
      <button type="submit" mat-flat-button color="primary" [disabled]="form.invalid">Save</button>
    </div>
  </form>
</div>

<!-- admission-dashboard.component.html -->
<div class="p-4 bg-gray-50 min-h-screen">
  <div class="max-w-5xl mx-auto space-y-4">
    <div class="flex justify-between items-center">
      <h1 class="text-xl font-bold">Student Admissions</h1>
      <button (click)="newAdmission()" class="bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-4 py-2">+ New Admission</button>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
      <div class="bg-white p-4 rounded-xl shadow text-center">
        <div class="text-sm text-gray-500">Pending</div>
        <div class="text-2xl font-bold text-yellow-600">{{ stats.pending }}</div>
      </div>
      <div class="bg-white p-4 rounded-xl shadow text-center">
        <div class="text-sm text-gray-500">Approved</div>
        <div class="text-2xl font-bold text-green-600">{{ stats.approved }}</div>
      </div>
      <div class="bg-white p-4 rounded-xl shadow text-center">
        <div class="text-sm text-gray-500">Rejected</div>
        <div class="text-2xl font-bold text-red-600">{{ stats.rejected }}</div>
      </div>
      <div class="bg-white p-4 rounded-xl shadow text-center">
        <div class="text-sm text-gray-500">Drafts</div>
        <div class="text-2xl font-bold text-gray-800">{{ stats.drafts }}</div>
      </div>
    </div>

    <div class="bg-white p-3 rounded-xl shadow flex flex-wrap gap-3">
      <select [(ngModel)]="filter.department" class="border rounded p-2">
        <option value="">Department</option>
      </select>
      <select [(ngModel)]="filter.klass" class="border rounded p-2">
        <option value="">Class</option>
      </select>
      <select [(ngModel)]="filter.section" class="border rounded p-2">
        <option value="">Section</option>
      </select>
    </div>

    <div class="bg-white rounded-xl shadow overflow-auto">
      <table class="w-full">
        <thead class="bg-gray-100 text-sm text-gray-600">
          <tr>
            <th class="p-3 text-left">Student Name</th>
            <th class="p-3 text-left">Admission No</th>
            <th class="p-3 text-left">Class/Program</th>
            <th class="p-3 text-left">Status</th>
            <th class="p-3 text-right">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let a of admissions" class="border-t">
            <td class="p-3">{{ a.full_name }}</td>
            <td class="p-3">{{ a.admission_no }}</td>
            <td class="p-3">{{ a.school_class || a.college_program }}</td>
            <td class="p-3">{{ a.status }}</td>
            <td class="p-3 text-right">
              <button (click)="view(a)" class="text-blue-600 mr-2">View</button>
              <button (click)="edit(a)" class="text-yellow-600 mr-2">Edit</button>
              <button (click)="approve(a)" class="text-green-600">Approve</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="admissions.length === 0" class="p-4 text-center text-sm text-gray-500">No admissions found.</div>
    </div>
  </div>
</div>

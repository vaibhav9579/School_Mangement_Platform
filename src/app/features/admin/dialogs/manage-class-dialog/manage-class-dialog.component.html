<div class="w-full mx-auto bg-white p-8 rounded-2xl shadow-lg">
  <h2 class="text-2xl font-bold text-gray-700 mb-6">
    {{ action === 'create' ? 'Create class' : action === 'edit' ? 'Edit class' : 'Delete class' }}
  </h2>

  <!-- Show Form only for Create/Edit -->
  <form *ngIf="action !== 'delete'" [formGroup]="classForm" (ngSubmit)="onSubmit()" class="space-y-6">
    <!-- Class Name -->
    <div>
      <label class="block text-sm font-medium text-gray-600">Class Name</label>
      <input type="text" formControlName="classname" placeholder="Enter class name"
        class="mt-1 w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none" />
      <p *ngIf="classForm.get('classname')?.invalid && classForm.get('classname')?.touched"
        class="text-red-500 text-sm mt-1">
        Class name is required (min 3 chars).
      </p>
    </div>

    <!-- Class Teacher -->
    <div>
      <label class="block text-sm font-medium text-gray-600">Class Teacher</label>
      <select formControlName="classteacher"
        class="mt-1 w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none">
        <option value="">Select Class Teacher</option>
        <option *ngFor="let teacher of teacherData" [ngValue]="teacher.id">{{ teacher.name }}</option>
      </select>
      <p *ngIf="classForm.get('classteacher')?.invalid && classForm.get('classteacher')?.touched" class="text-red-500 text-sm mt-1">
        Class teacher is required.
      </p>
    </div>

    <!-- Actions -->
    <div class="flex justify-end gap-4">
      <button type="button" (click)="onReset()"
        class="px-6 py-2 bg-gray-200 text-gray-700 font-medium rounded-xl shadow hover:bg-gray-300">
        Reset
      </button>
      
      <button type="submit" [disabled]="classForm.invalid"
        class="px-6 py-2 bg-blue-600 text-white font-medium rounded-xl shadow hover:bg-blue-700 disabled:opacity-50">
        {{ action === 'create' ? 'Create' : 'Save Changes' }}
      </button>
    </div>
  </form>

  <!-- Delete Confirmation -->
  <div *ngIf="action === 'delete'" class="space-y-6">
    <p class="text-gray-700">
      To confirm deletion of Class, please type <b class="text-red-600">{{ data.class?.classname }}</b> below:
    </p>

    <input type="text" [(ngModel)]="_className" name="deleteConfirmInput"
      placeholder="Enter class to confirm"
      class="w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-red-500 focus:outline-none" />

    <p *ngIf="_className && _className !== data.class?.classname"
      class="text-red-500 text-sm">
      Name does not match. Please type it exactly.
    </p>

    <div class="flex justify-end gap-4">
      <button mat-button (click)="dialogRef.close()">Cancel</button>
      <button mat-raised-button color="warn" (click)="onSubmit()">Delete</button>
    </div>
  </div>
</div>
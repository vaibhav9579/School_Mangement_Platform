<div class="p-4 w-96">
  <!-- Create / Edit -->
  <ng-container *ngIf="action === 'create' || action === 'edit'">
    <h2 class="text-xl font-semibold mb-4">
      {{ action === 'create' ? 'Add New Leave Policy' : 'Edit Leave Policy' }}
    </h2>

    <form [formGroup]="form" class="space-y-4">
      <!-- Role -->
      <mat-form-field class="w-full">
        <mat-label>Role</mat-label>
        <mat-select formControlName="role_id" required>
          <mat-option *ngFor="let role of roles" [value]="role.id">
            {{ role.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Leave Type -->
    <!-- Leave Type Selection -->
    <mat-form-field class="w-full">
      <mat-label>Leave Type</mat-label>
      <mat-select formControlName="leave_type" required>
        <mat-option *ngFor="let type of leaveTypes" [value]="type">{{ type }}</mat-option>
      </mat-select>
    </mat-form-field>

      <!-- Allowed Days -->
      <mat-form-field class="w-full">
        <mat-label>Allowed Days</mat-label>
        <input matInput type="number" placeholder="e.g. 10" formControlName="allowed_days" />
      </mat-form-field>

      <!-- Actions -->
      <div class="flex justify-end gap-2 mt-4">
        <button mat-button (click)="onCancel()">Cancel</button>
        <button mat-raised-button color="primary" (click)="onSave()" [disabled]="form.invalid">
          {{ action === 'create' ? 'Create' : 'Save Changes' }}
        </button>
      </div>
    </form>
  </ng-container>

  <!-- Delete -->
  <ng-container *ngIf="action === 'delete'">
    <h2 class="text-xl font-semibold mb-4">Delete Leave Policy</h2>
    <p class="mb-4">Are you sure you want to delete this policy?</p>

    <div class="flex justify-end gap-2">
      <button mat-button (click)="onCancel()">Cancel</button>
      <button mat-raised-button color="warn" (click)="onDeleteConfirm()">Delete</button>
    </div>
  </ng-container>
</div>

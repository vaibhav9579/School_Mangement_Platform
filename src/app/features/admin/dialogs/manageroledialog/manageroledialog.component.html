<div class="w-full mx-auto bg-white p-8 rounded-2xl shadow-lg">
  <h2 class="text-2xl font-bold text-gray-700 mb-6">
    {{ action === 'create' ? 'Create Role' : action === 'edit' ? 'Edit Role' : action === 'view' ? 'View Role' : 'DeleteRole' }}
  </h2>

  <!-- Form for Create/Edit/View -->
  <form *ngIf="action !== 'delete'" [formGroup]="roleForm" (ngSubmit)="onSubmit()" class="space-y-6">
    <!-- Role Name -->
    <div>
      <label class="block text-sm font-medium text-gray-600">Role Name</label>
      <select formControlName="name"
        class="mt-1 w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none"
        [disabled]="action === 'view'">
        <option value="" disabled>Select role</option>
        <option *ngFor="let role of roles" [value]="role">{{ role }}</option>
      </select>
      <!-- <input type="text" formControlName="name" placeholder="Enter role name"
        class="mt-1 w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none"
        [readonly]="action === 'view'" /> -->
      <p *ngIf="roleForm.get('name')?.invalid && roleForm.get('name')?.touched" class="text-red-500 text-sm mt-1">
        Role name is required.
      </p>
    </div>

    <!-- Description -->
    <div>
      <label class="block text-sm font-medium text-gray-600">Description</label>
      <textarea formControlName="description" placeholder="Enter description"
        class="mt-1 w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none" rows="3"
        [readonly]="action === 'view'"></textarea>
    </div>

    <!-- Actions -->
    <div class="flex justify-end gap-4">
      <button type="button" (click)="dialogRef.close()"
        class="px-6 py-2 bg-gray-200 text-gray-700 font-medium rounded-xl shadow hover:bg-gray-300">
        Cancel
      </button>
      <button type="submit" [disabled]="roleForm.invalid && action !== 'view'"
        class="px-6 py-2 bg-blue-600 text-white font-medium rounded-xl shadow hover:bg-blue-700 disabled:opacity-50">
        {{ action === 'create' ? 'Create' : 'Save Changes' }}
      </button>
    </div>
  </form>

  <!-- Delete Confirmation -->
  <div *ngIf="action === 'delete'" class="space-y-6">
    <p class="text-gray-700">
      To confirm deletion, please type <b>{{ data.role?.name }}</b>? below
    </p>

     <input type="text" [(ngModel)]="roleName" name="roleName"
      placeholder="Enter role name to confirm"
      class="w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-red-500 focus:outline-none" />

    <p *ngIf="roleName && roleName !== data.role?.name"
      class="text-red-500 text-sm">
      Name does not match. Please type it exactly.
    </p>

    
    <div class="flex justify-end gap-4">
      <button type="button" class="px-6 py-2 bg-gray-200 text-gray-700 font-medium rounded-xl shadow hover:bg-gray-300"
        (click)="dialogRef.close()">
        Cancel
      </button>
      <button type="button" class="px-6 py-2 bg-red-600 text-white font-medium rounded-xl shadow hover:bg-red-700"
        (click)="onSubmit()">
        Delete
      </button>
    </div>
  </div>
</div>